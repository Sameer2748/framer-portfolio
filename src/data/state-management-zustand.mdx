---
title: 'State Management with Zustand'
description: 'Learn how to effectively manage state in React applications using Zustand, a minimalistic state management solution.'
image: 'https://imgs.search.brave.com/rI8Ik04iSksOcI7Hk5-Tyj13p9ggzseqyr935rmqldo/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly9hcGku/cmVsaWFzb2Z0d2Fy/ZS5jb20vdXBsb2Fk/cy9yZWFjdF9yZWR1/eF9mb3Jfc3RhdGVf/bWFuYWdlbWVudF8x/NTdhZjU0ZTQwLndl/YnA'
date: '2024-04-05'
---

# State Management with Zustand: Simple yet Powerful

## Introduction to Zustand

Zustand is a small, fast, and scalable state management solution for React applications. It provides a simple API while maintaining powerful capabilities for complex state management needs.

## Getting Started

### Basic Store Setup
```typescript
import create from 'zustand'

interface BearStore {
  bears: number
  increase: () => void
  reduce: () => void
}

const useStore = create<BearStore>((set) => ({
  bears: 0,
  increase: () => set((state) => ({ bears: state.bears + 1 })),
  reduce: () => set((state) => ({ bears: state.bears - 1 })),
}))
```

### Using the Store
```typescript
function BearCounter() {
  const bears = useStore((state) => state.bears)
  return <h1>{bears} around here...</h1>
}

function Controls() {
  const { increase, reduce } = useStore()
  return (
    <div>
      <button onClick={increase}>Add bear</button>
      <button onClick={reduce}>Remove bear</button>
    </div>
  )
}
```

## Advanced Features

### Async Actions
```typescript
interface TodoStore {
  todos: Todo[]
  fetchTodos: () => Promise<void>
}

const useTodoStore = create<TodoStore>((set) => ({
  todos: [],
  fetchTodos: async () => {
    const response = await fetch('/api/todos')
    const todos = await response.json()
    set({ todos })
  }
}))
```

### Middleware
```typescript
import { devtools, persist } from 'zustand/middleware'

const useStore = create(
  devtools(
    persist(
      (set) => ({
        bears: 0,
        increase: () => set((state) => ({ bears: state.bears + 1 }))
      }),
      { name: 'bear-storage' }
    )
  )
)
```

## Best Practices

### 1. Store Organization
```typescript
interface StoreSlice {
  bears: number
  addBear: () => void
}

const createBearSlice: StoreSlice = (set) => ({
  bears: 0,
  addBear: () => set((state) => ({ bears: state.bears + 1 }))
})

const useStore = create((...a) => ({
  ...createBearSlice(...a),
}))
```

### 2. Selective Updates
```typescript
function BearCounter() {
  const bears = useStore(
    (state) => state.bears,
    (oldBears, newBears) => oldBears === newBears
  )
  return <h1>{bears} around here...</h1>
}
```

### 3. TypeScript Integration
```typescript
interface State {
  bears: number
  fish: number
  addBear: () => void
  addFish: (quantity: number) => void
}

const useStore = create<State>((set) => ({
  bears: 0,
  fish: 0,
  addBear: () => set((state) => ({ bears: state.bears + 1 })),
  addFish: (quantity) => set((state) => ({ fish: state.fish + quantity }))
}))
```

## Real-World Examples

### Authentication Store
```typescript
interface AuthStore {
  user: User | null
  isAuthenticated: boolean
  login: (credentials: Credentials) => Promise<void>
  logout: () => void
}

const useAuthStore = create<AuthStore>((set) => ({
  user: null,
  isAuthenticated: false,
  login: async (credentials) => {
    const user = await loginAPI(credentials)
    set({ user, isAuthenticated: true })
  },
  logout: () => set({ user: null, isAuthenticated: false })
}))
```

### Shopping Cart Store
```typescript
interface CartStore {
  items: CartItem[]
  total: number
  addItem: (item: Product) => void
  removeItem: (itemId: string) => void
  clearCart: () => void
}

const useCartStore = create<CartStore>((set) => ({
  items: [],
  total: 0,
  addItem: (item) => 
    set((state) => ({
      items: [...state.items, item],
      total: state.total + item.price
    })),
  removeItem: (itemId) =>
    set((state) => {
      const item = state.items.find(i => i.id === itemId)
      return {
        items: state.items.filter(i => i.id !== itemId),
        total: state.total - (item?.price || 0)
      }
    }),
  clearCart: () => set({ items: [], total: 0 })
}))
```

## Performance Optimization

### 1. Shallow Comparison
```typescript
const bears = useStore(
  (state) => ({ bears: state.bears }),
  shallow
)
```

### 2. Computed Values
```typescript
const totalPrice = useStore(
  (state) => state.items.reduce((sum, item) => sum + item.price, 0)
)
```

## Conclusion

Zustand provides a simple yet powerful approach to state management in React applications. Its minimal API and great TypeScript support make it an excellent choice for both small and large applications.

## Resources
- [Zustand GitHub Repository](https://github.com/pmndrs/zustand)
- [Zustand Documentation](https://docs.pmnd.rs/zustand/getting-started/introduction)
- [React State Management Guide](https://react.dev/learn/managing-state)
